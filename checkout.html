<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Checkout - Flip Phone Resale</title>
  <link rel="stylesheet" href="styles.css">
  <script src="common.js" defer></script>
</head>
<body>
  <header>
    <h1>Flip Phone Resale</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="shop.html">Shop Now</a>
      <a href="sell.html">Sell</a>
      <a href="about.html">About</a>
      <a href="cart.html">Cart</a>
    </nav>
  </header>

  <main>
    <h2>Checkout</h2>
    <div id="checkout-summary"></div>

    <form id="checkout-form">
      <h3>Customer Information</h3>
      <label for="name">Full Name:</label>
      <input type="text" id="name" required>

      <label for="email">Email:</label>
      <input type="email" id="email" required>

      <label for="address">Shipping Address:</label>
      <textarea id="address" required></textarea>

      <button type="submit" class="btn">Complete Purchase</button>
    </form>

    <div id="confirmation" style="display:none;">
      <h3>Thank you for your order!</h3>
      <p>Your purchase has been confirmed. Weâ€™ll send you an email with the details shortly.</p>
      <a href="shop.html" class="btn">Back to Shop</a>
    </div>
  </main>

  <footer>
    <p>&copy; 2025 Flip Phone Resale. All rights reserved.</p>
  </footer>

  <script>
    // Display cart summary at checkout
    function displayCheckoutSummary() {
      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      let summary = document.getElementById("checkout-summary");
      let total = 0;
      summary.innerHTML = "<h3>Order Summary</h3>";

      if (cart.length === 0) {
        summary.innerHTML += "<p>Your cart is empty.</p>";
        document.getElementById("checkout-form").style.display = "none";
        return;
      }

      cart.forEach(item => {
        total += item.price;
        summary.innerHTML += `<p>${item.name} - $${item.price.toFixed(2)}</p>`;
      });

      summary.innerHTML += `<h4>Total: $${total.toFixed(2)}</h4>`;
    }

    // Handle checkout form submission
    document.getElementById("checkout-form").addEventListener("submit", function(e) {
      e.preventDefault();
      clearCart(); // from common.js
      document.getElementById("checkout-form").style.display = "none";
      document.getElementById("checkout-summary").style.display = "none";
      document.getElementById("confirmation").style.display = "block";
    });

    // Run on page load
    displayCheckoutSummary();
  </script>
</body>
</html>


